# =============================================================================
# miLLM Configuration
# =============================================================================
# Copy this file to .env and modify as needed.
# All values shown are defaults.

# =============================================================================
# Database
# =============================================================================
# PostgreSQL connection string (async driver)
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/millm

# =============================================================================
# Storage
# =============================================================================
# Directory for cached HuggingFace models
# Ensure this directory exists and has write permissions
MODEL_CACHE_DIR=/data/models

# Directory for cached SAE files
SAE_CACHE_DIR=/data/sae

# =============================================================================
# HuggingFace
# =============================================================================
# Access token for gated models (optional)
# Get yours at: https://huggingface.co/settings/tokens
# HF_TOKEN=hf_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# Server
# =============================================================================
# Host to bind to
HOST=0.0.0.0

# Port to listen on
PORT=8000

# Enable debug mode (more verbose logging, auto-reload)
DEBUG=false

# =============================================================================
# CORS
# =============================================================================
# Allowed origins (comma-separated, or * for all)
CORS_ORIGINS=*

# =============================================================================
# Logging
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json (production) or console (development)
LOG_FORMAT=console

# =============================================================================
# Threading
# =============================================================================
# Maximum concurrent model downloads
MAX_DOWNLOAD_WORKERS=2

# Maximum concurrent model load operations
MAX_LOAD_WORKERS=1

# =============================================================================
# Timeouts
# =============================================================================
# Seconds to wait for graceful model unload
GRACEFUL_UNLOAD_TIMEOUT=30.0

# Maximum download time in seconds (1 hour default)
DOWNLOAD_TIMEOUT=3600.0

# =============================================================================
# Redis (Optional)
# =============================================================================
# For distributed state and caching
# REDIS_URL=redis://localhost:6379/0
